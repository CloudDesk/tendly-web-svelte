{"swagger":"2.0","info":{"title":"HRMS API","description":"API documentation for Human Resource Management System","version":"1.0.0","contact":{"name":"HRMS Support","email":"support@hrms.com"}},"definitions":{},"paths":{"/auth/login":{"post":{"summary":"Login user","description":"Authenticate user with email and password","tags":["Authentication"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"token":{"type":"string"},"user":{"type":"object","properties":{"_id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"},"roleId":{"type":"string"},"departmentId":{"type":"string"},"active":{"type":"boolean"}}}}}}}},"401":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"error":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/auth/forgot-password":{"post":{"summary":"Request password reset","description":"Send password reset instructions to user email","tags":["Authentication"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["email"],"properties":{"email":{"type":"string","format":"email"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"error":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/auth/reset-password":{"post":{"summary":"Reset password","description":"Reset user password using reset token","tags":["Authentication"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["token","password"],"properties":{"token":{"type":"string"},"password":{"type":"string","minLength":6}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"error":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/users/":{"get":{"summary":"Get all users","description":"Get paginated list of users with optional filters","tags":["User Management"],"parameters":[{"type":"number","minimum":1,"default":1,"description":"Page number","required":false,"in":"query","name":"page"},{"type":"number","minimum":1,"maximum":100,"default":10,"description":"Records per page","required":false,"in":"query","name":"limit"},{"type":"string","description":"Search by name or email","required":false,"in":"query","name":"search"},{"type":"boolean","description":"Filter by active status","required":false,"in":"query","name":"active"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"roleId":{"type":"string"},"departmentId":{"type":"string"},"biometricId":{"type":"string"},"active":{"type":"boolean"}}}},"meta":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"totalPages":{"type":"number"}}}}}}}},"post":{"summary":"Create new user","description":"Create a new user with specified details","tags":["User Management"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["name","email","password","roleId","departmentId"],"properties":{"name":{"type":"string","minLength":2,"maxLength":100,"description":"Full name of the user"},"email":{"type":"string","format":"email","description":"Email address"},"password":{"type":"string","minLength":6,"description":"Password (min 6 characters)"},"roleId":{"type":"string","description":"Role ID"},"departmentId":{"type":"string","description":"Department ID"},"biometricId":{"type":"string","maxLength":20,"description":"Biometric device ID"},"active":{"type":"boolean","default":true,"description":"User active status"}}}}],"responses":{"200":{"description":"Default Response"}}}},"/users/{id}":{"get":{"summary":"Get user by ID","description":"Get detailed information about a specific user","tags":["User Management"],"parameters":[{"type":"string","description":"User ID","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"roleId":{"type":"string"},"departmentId":{"type":"string"},"biometricId":{"type":"string"},"active":{"type":"boolean"}}}}}},"404":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"error":{"type":"object","properties":{"message":{"type":"string"}}}}}}}},"put":{"summary":"Update user","description":"Update a user with the given details","tags":["User Management"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"name":{"type":"string","minLength":2,"maxLength":100},"email":{"type":"string","format":"email"},"password":{"type":"string","minLength":6},"roleId":{"type":"string"},"departmentId":{"type":"string"},"biometricId":{"type":"string","maxLength":20},"active":{"type":"boolean"}}}},{"type":"string","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response"}}},"delete":{"summary":"Delete user","description":"Delete a user by ID","tags":["User Management"],"parameters":[{"type":"string","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response"}}}},"/attendance/swipe":{"post":{"summary":"Process a biometric swipe","description":"Process an unauthenticated biometric swipe and record attendance based on shift window in UTC","tags":["Biometric Attendance"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["biometricId"],"properties":{"biometricId":{"type":"string","description":"Biometric ID of the user"},"timestamp":{"type":"string","format":"date-time","description":"Optional timestamp of the swipe in UTC (ISO format). Defaults to current UTC time if not provided."}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"swipeTime":{"type":"string","format":"date-time","description":"UTC timestamp"},"isWithinWindow":{"type":"boolean"},"isLateEntry":{"type":"boolean"},"isEarlyExit":{"type":"boolean"}}}}}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"error":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/attendance/status/{userId}":{"get":{"summary":"Get attendance status for a user","description":"Get attendance status for a specific user on a given date","tags":["Biometric Attendance"],"parameters":[{"type":"string","format":"date","description":"Date in UTC (YYYY-MM-DD)","required":true,"in":"query","name":"date"},{"type":"string","description":"User ID to get attendance status for","required":true,"in":"path","name":"userId"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"shiftCode":{"type":"string"},"status":{"type":"string","enum":["incomplete","complete","duplicate_swipes","missing_checkout"]},"overtime":{"type":"string","description":"Overtime duration in HH:mm:ss format"},"shortTime":{"type":"string","description":"Short time duration in HH:mm:ss format"},"firstSwipe":{"type":"string","format":"date-time","description":"UTC timestamp","nullable":true},"lastSwipe":{"type":"string","format":"date-time","description":"UTC timestamp","nullable":true}}}}}}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"error":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/attendance/records":{"post":{"summary":"Get attendance records","description":"Get attendance records for specified date range and users. ","tags":["Biometric Attendance"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["startDate","endDate"],"properties":{"startDate":{"type":"string","format":"date-time","description":"Start date in UTC (YYYY-MM-DDTHH:mm:ssZ)"},"endDate":{"type":"string","format":"date-time","description":"End date in UTC (YYYY-MM-DDTHH:mm:ssZ)"},"userIds":{"type":"array","items":{"type":"string"},"description":"Optional array of user IDs to filter records"},"page":{"type":"number","minimum":1,"default":1,"description":"Page number for pagination"},"limit":{"type":"number","minimum":1,"maximum":100,"default":10,"description":"Number of records per page"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"userId":{"type":"string"},"userName":{"type":"string"},"records":{"type":"array","items":{"type":"object","properties":{"shiftDay":{"type":"string","format":"date-time","description":"UTC date"},"shiftCode":{"type":"string"},"status":{"type":"string","enum":["incomplete","complete","duplicate_swipes","missing_checkout"]},"overtime":{"type":"string","description":"Overtime duration in HH:mm:ss format"},"shortTime":{"type":"string","description":"Short time duration in HH:mm:ss format"},"firstSwipe":{"type":"string","format":"date-time","description":"UTC timestamp","nullable":true},"lastSwipe":{"type":"string","format":"date-time","description":"UTC timestamp","nullable":true},"attendanceStatus":{"type":"array","items":{"type":"string","enum":["Late","On-Time","Early-Exit","Absent"]}}}}},"summary":{"type":"object","properties":{"totalDays":{"type":"number"},"lateDays":{"type":"number"},"presentDays":{"type":"number"},"regularisedDays":{"type":"number"},"leaveDays":{"type":"number"}}}}}},"meta":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"totalPages":{"type":"number"}}}}}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"error":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/leaves/summary/{userId}":{"get":{"summary":"Get leave summary for logged-in user","tags":["Leave Summary"],"parameters":[{"type":"number","description":"Year for leave summary","default":2025,"required":false,"in":"query","name":"year"},{"type":"string","required":true,"in":"path","name":"userId"}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"userId":{"type":"string"},"year":{"type":"number"},"annual":{"type":"object","properties":{"alloted":{"type":"number"},"availed":{"type":"number"},"remaining":{"type":"number"},"leaveRequests":{"type":"array","items":{"type":"string"}}}},"sick":{"type":"object","properties":{"alloted":{"type":"number"},"availed":{"type":"number"},"remaining":{"type":"number"},"leaveRequests":{"type":"array","items":{"type":"string"}}}},"compOff":{"type":"object","properties":{"alloted":{"type":"number"},"availed":{"type":"number"},"remaining":{"type":"number"},"leaveRequests":{"type":"array","items":{"type":"string"}}}},"lossOfPay":{"type":"object","properties":{"alloted":{"type":"number"},"availed":{"type":"number"},"remaining":{"type":"number"},"leaveRequests":{"type":"array","items":{"type":"string"}}}},"otherPaid":{"type":"object","properties":{"alloted":{"type":"number"},"availed":{"type":"number"},"remaining":{"type":"number"},"leaveRequests":{"type":"array","items":{"type":"string"}}}},"otherUnpaid":{"type":"object","properties":{"alloted":{"type":"number"},"availed":{"type":"number"},"remaining":{"type":"number"},"leaveRequests":{"type":"array","items":{"type":"string"}}}}}}}}}}}},"/leaves/leave-summaries":{"get":{"summary":"Get leave summaries for multiple users","tags":["Leave Summary"],"parameters":[{"type":"string","description":"Comma-separated list of user IDs","required":true,"in":"query","name":"userIds"},{"type":"number","description":"Year for leave summary","default":2025,"required":false,"in":"query","name":"year"}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Default Response","schema":{"type":"array","items":{"type":"object","properties":{"userId":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"}}},"year":{"type":"number"},"annual":{"type":"object","properties":{"alloted":{"type":"number"},"availed":{"type":"number"},"remaining":{"type":"number"},"leaveRequests":{"type":"array","items":{"type":"string"}}}},"sick":{"type":"object","properties":{"alloted":{"type":"number"},"availed":{"type":"number"},"remaining":{"type":"number"},"leaveRequests":{"type":"array","items":{"type":"string"}}}}}}}},"403":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}},"/leaves/allotments":{"post":{"summary":"Update leave allotments for a user","tags":["Leave Summary"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["userId","year","allotments"],"properties":{"userId":{"type":"string","description":"User ID to update leave allotments for"},"year":{"type":"number","description":"Year for leave allotments","default":2025},"annual":{"type":"number","minimum":0,"description":"Annual leave days"},"sick":{"type":"number","minimum":0,"description":"Sick leave days"},"otherPaid":{"type":"number","minimum":0,"description":"Other paid leave days"},"otherUnpaid":{"type":"number","minimum":0,"description":"Other unpaid leave days"}}}}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"userId":{"type":"string"},"year":{"type":"number"},"annual":{"type":"object","properties":{"alloted":{"type":"number"},"availed":{"type":"number"},"remaining":{"type":"number"}}},"sick":{"type":"object","properties":{"alloted":{"type":"number"},"availed":{"type":"number"},"remaining":{"type":"number"}}},"otherPaid":{"type":"object","properties":{"alloted":{"type":"number"},"availed":{"type":"number"},"remaining":{"type":"number"}}},"otherUnpaid":{"type":"object","properties":{"alloted":{"type":"number"},"availed":{"type":"number"},"remaining":{"type":"number"}}}}}}}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"error":{"type":"object","properties":{"message":{"type":"string"}}}}}},"403":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"error":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/leaves/":{"post":{"summary":"Apply for leave","description":"Submit a new leave request","tags":["Leave Management"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["leaveTypeId","startDate","endDate"],"properties":{"leaveTypeId":{"type":"string","description":"Type of leave being requested"},"startDate":{"type":"string","format":"date","description":"Leave start date (YYYY-MM-DD)"},"endDate":{"type":"string","format":"date","description":"Leave end date (YYYY-MM-DD)"},"remarks":{"type":"string","description":"Additional remarks for the leave request"}}}}],"responses":{"201":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"_id":{"type":"string"},"userId":{"type":"string"},"leaveTypeId":{"type":"string"},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"status":{"type":"string","enum":["Pending","Approved","Rejected"]},"remarks":{"type":"string"}}}}}}}},"get":{"summary":"Get leave requests","description":"Get paginated list of leave requests with optional filters","tags":["Leave Management"],"parameters":[{"type":"string","description":"Filter by user ID","required":false,"in":"query","name":"userId"},{"type":"string","enum":["Pending","Approved","Rejected"],"description":"Filter by leave status","required":false,"in":"query","name":"status"},{"type":"string","format":"date","description":"Filter by start date","required":false,"in":"query","name":"startDate"},{"type":"string","format":"date","description":"Filter by end date","required":false,"in":"query","name":"endDate"},{"type":"number","minimum":1,"default":1,"description":"Page number","required":false,"in":"query","name":"page"},{"type":"number","minimum":1,"maximum":100,"default":10,"description":"Records per page","required":false,"in":"query","name":"limit"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"userId":{"type":"string"},"leaveTypeId":{"type":"string"},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"status":{"type":"string","enum":["Pending","Approved","Rejected"]},"remarks":{"type":"string"}}}},"meta":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"totalPages":{"type":"number"}}}}}}}}},"/leaves/{id}/status":{"put":{"summary":"Approve/Reject leave request","description":"Approve or reject a leave request","tags":["Leave Management"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["status"],"properties":{"status":{"type":"string","enum":["Approved","Rejected"]},"remarks":{"type":"string"}}}},{"type":"string","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response"}}}},"/leaves/{id}":{"delete":{"summary":"Cancel leave request","description":"Cancel a leave request","tags":["Leave Management"],"parameters":[{"type":"string","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response"}}}},"/leaves/balance/{leaveTypeId}":{"get":{"summary":"Get leave balance","description":"Get the leave balance for a specific leave type","tags":["Leave Management"],"parameters":[{"type":"string","required":true,"in":"path","name":"leaveTypeId"}],"responses":{"200":{"description":"Default Response"}}}},"/overtime/":{"post":{"summary":"Request overtime","description":"Submit a new overtime request","tags":["Attendance Management"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["date","hours"],"properties":{"date":{"type":"string","format":"date","description":"Date of overtime work"},"hours":{"type":"number","minimum":1,"maximum":24,"description":"Number of overtime hours"},"remarks":{"type":"string","description":"Additional remarks for overtime request"}}}}],"responses":{"201":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"_id":{"type":"string"},"userId":{"type":"string"},"date":{"type":"string","format":"date"},"hours":{"type":"number"},"status":{"type":"string","enum":["Pending","Approved","Rejected"]},"remarks":{"type":"string"}}}}}}}},"get":{"summary":"Get overtime requests","description":"Get paginated list of overtime requests with optional filters","tags":["Attendance Management"],"parameters":[{"type":"string","enum":["Pending","Approved","Rejected"],"description":"Filter by overtime status","required":false,"in":"query","name":"status"},{"type":"string","format":"date","description":"Filter by start date","required":false,"in":"query","name":"startDate"},{"type":"string","format":"date","description":"Filter by end date","required":false,"in":"query","name":"endDate"},{"type":"number","minimum":1,"default":1,"description":"Page number","required":false,"in":"query","name":"page"},{"type":"number","minimum":1,"maximum":100,"default":10,"description":"Records per page","required":false,"in":"query","name":"limit"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"userId":{"type":"string"},"date":{"type":"string","format":"date"},"hours":{"type":"number"},"status":{"type":"string","enum":["Pending","Approved","Rejected"]},"remarks":{"type":"string"}}}},"meta":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"totalPages":{"type":"number"}}}}}}}}},"/overtime/{id}/status":{"put":{"summary":"Approve/Reject overtime","description":"Approve or reject an overtime request","tags":["Attendance Management"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["status"],"properties":{"status":{"type":"string","enum":["Approved","Rejected"]},"remarks":{"type":"string"}}}},{"type":"string","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response"}}}},"/payroll/salary-structure/current":{"get":{"summary":"Get current salary structure","description":"Get the current salary structure for the authenticated user","tags":["Payroll"],"responses":{"200":{"description":"Default Response"}}}},"/payroll/salary-structure/history":{"get":{"summary":"Get salary structure history","description":"Get the history of salary structures for the authenticated user","tags":["Payroll"],"responses":{"200":{"description":"Default Response"}}}},"/payroll/calculate/{month}":{"get":{"summary":"Calculate monthly salary","description":"Calculate the monthly salary for the authenticated user","tags":["Payroll"],"parameters":[{"type":"string","required":true,"in":"path","name":"month"}],"responses":{"200":{"description":"Default Response"}}}},"/lovs/":{"get":{"summary":"Get list of values","description":"Get paginated list of values with optional filters","tags":["Master Data"],"parameters":[{"type":"string","description":"Filter by LOV type","required":false,"in":"query","name":"type"},{"type":"string","description":"Search by name","required":false,"in":"query","name":"search"},{"type":"number","minimum":1,"default":1,"description":"Page number","required":false,"in":"query","name":"page"},{"type":"number","minimum":1,"maximum":100,"default":10,"description":"Records per page","required":false,"in":"query","name":"limit"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"},"values":{"type":"array","items":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"},"description":{"type":"string"},"isActive":{"type":"boolean"}}}}}}},"meta":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"totalPages":{"type":"number"}}}}}}}},"post":{"summary":"Create a new LOV","description":"Create a new LOV with the given details","tags":["Master Data"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["name","type","values"],"properties":{"name":{"type":"string","maxLength":50},"type":{"type":"string","maxLength":50},"values":{"type":"array","items":{"type":"object","required":["label","value"],"properties":{"label":{"type":"string","maxLength":100},"value":{"type":"string","maxLength":100},"description":{"type":"string"},"isActive":{"type":"boolean","default":true}}}}}}}],"responses":{"200":{"description":"Default Response"}}}},"/lovs/type/{type}":{"get":{"summary":"Get values by type","description":"Get all values for a specific LOV type","tags":["Master Data"],"parameters":[{"type":"string","description":"LOV type to fetch values for","required":true,"in":"path","name":"type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"},"description":{"type":"string"},"isActive":{"type":"boolean"}}}}}}}}}},"/lovs/{id}":{"put":{"summary":"Update a LOV","description":"Update a LOV with the given details","tags":["Master Data"],"parameters":[{"type":"string","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response"}}}},"/shifts/":{"get":{"summary":"Get all shifts","description":"Get paginated list of shifts with optional filters","tags":["Shift Management"],"parameters":[{"type":"string","description":"Search by shift name or code","required":false,"in":"query","name":"search"},{"type":"boolean","description":"Filter by active status","required":false,"in":"query","name":"isActive"},{"type":"string","description":"Filter by role ID","required":false,"in":"query","name":"roleId"},{"type":"string","format":"date","description":"Filter shifts valid on this date","required":false,"in":"query","name":"validOn"},{"type":"number","minimum":1,"default":1,"description":"Page number","required":false,"in":"query","name":"page"},{"type":"number","minimum":1,"maximum":100,"default":10,"description":"Records per page","required":false,"in":"query","name":"limit"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"code":{"type":"string"},"startTime":{"type":"string","pattern":"^([01]\\d|2[0-3]):([0-5]\\d)$"},"endTime":{"type":"string","pattern":"^([01]\\d|2[0-3]):([0-5]\\d)$"},"shiftWindowStart":{"type":"string","pattern":"^([01]\\d|2[0-3]):([0-5]\\d)$"},"shiftWindowEnd":{"type":"string","pattern":"^([01]\\d|2[0-3]):([0-5]\\d)$"},"applicableForRoles":{"type":"array","items":{"type":"string"}},"validFrom":{"type":"string","format":"date"},"validTill":{"type":"string","format":"date","nullable":true},"description":{"type":"string"},"graceTimeInMinutes":{"type":"number","minimum":0,"maximum":60}}}},"meta":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"totalPages":{"type":"number"}}}}}}}},"post":{"summary":"Create a new shift","description":"Create a new shift with the given details","tags":["Shift Management"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["name","code","startTime","endTime","shiftWindowStart","shiftWindowEnd","validFrom"],"properties":{"name":{"type":"string","maxLength":100,"description":"Shift name"},"code":{"type":"string","maxLength":20,"description":"Unique shift code"},"startTime":{"type":"string","pattern":"^([01]\\d|2[0-3]):([0-5]\\d)$","description":"Shift start time in UTC (HH:mm format)"},"endTime":{"type":"string","pattern":"^([01]\\d|2[0-3]):([0-5]\\d)$","description":"Shift end time in UTC (HH:mm format)"},"shiftWindowStart":{"type":"string","pattern":"^([01]\\d|2[0-3]):([0-5]\\d)$","description":"Window start time in UTC (HH:mm format) - earliest allowed check-in time"},"shiftWindowEnd":{"type":"string","pattern":"^([01]\\d|2[0-3]):([0-5]\\d)$","description":"Window end time in UTC (HH:mm format) - latest allowed check-out time"},"applicableForRoles":{"type":"array","items":{"type":"string"},"description":"Array of role IDs this shift applies to"},"validFrom":{"type":"string","format":"date","description":"Start date in UTC (YYYY-MM-DD format)"},"validTill":{"type":"string","format":"date","description":"End date in UTC (YYYY-MM-DD format), if applicable"},"description":{"type":"string","description":"Optional shift description"},"graceTimeInMinutes":{"type":"number","minimum":0,"maximum":60,"description":"Grace period in minutes for late entry"}}}}],"responses":{"201":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"code":{"type":"string"},"startTime":{"type":"string","description":"UTC time HH:mm"},"endTime":{"type":"string","description":"UTC time HH:mm"},"shiftWindowStart":{"type":"string","description":"UTC time HH:mm"},"shiftWindowEnd":{"type":"string","description":"UTC time HH:mm"},"applicableForRoles":{"type":"array","items":{"type":"string"}},"validFrom":{"type":"string","format":"date","description":"UTC date"},"validTill":{"type":"string","format":"date","description":"UTC date","nullable":true},"description":{"type":"string"},"graceTimeInMinutes":{"type":"number"}}}}}}}}},"/shifts/{id}":{"put":{"summary":"Update a shift","description":"Update a shift with the given details","tags":["Shift Management"],"parameters":[{"type":"string","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response"}}}},"/shifts/{shiftId}/assign":{"post":{"summary":"Bulk assign/remove users to/from shift","description":"Add or remove multiple users from a shift assignment","tags":["Shift Management"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["addUserIds","removeUserIds","startDate","shiftCode"],"properties":{"addUserIds":{"type":"array","items":{"type":"string"},"description":"Array of user IDs to assign to the shift"},"removeUserIds":{"type":"array","items":{"type":"string"},"description":"Array of user IDs to remove from the shift"},"shiftCode":{"type":"string","description":"Shift code to assign"},"startDate":{"type":"string","format":"date-time","description":"Assignment start date in UTC"},"endDate":{"type":"string","format":"date-time","description":"Optional assignment end date in UTC"}}}},{"type":"string","description":"ID of the shift to assign","required":true,"in":"path","name":"shiftId"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"message":{"type":"string"},"addedCount":{"type":"number"},"removedCount":{"type":"number"}}}}}}}}},"/shifts/current":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/organizations/":{"post":{"summary":"Create organization","description":"Create a new organization unit","tags":["Organization"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["name","code"],"properties":{"name":{"type":"string","maxLength":100,"description":"Organization name"},"code":{"type":"string","maxLength":20,"description":"Organization code"},"parentId":{"type":"string","description":"Parent organization ID"}}}}],"responses":{"201":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"code":{"type":"string"},"parentId":{"type":"string"}}}}}}}}},"/organizations/hierarchy":{"get":{"summary":"Get organization hierarchy","description":"Get hierarchical structure of organizations starting from optional root ID","tags":["Organization"],"parameters":[{"type":"string","description":"Root organization ID to start hierarchy from","required":false,"in":"query","name":"rootId"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"code":{"type":"string"},"parentId":{"type":"string"},"children":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"code":{"type":"string"},"parentId":{"type":"string"}}}}}}}}}}}}}},"host":"localhost:3000","schemes":["http","https"],"consumes":["application/json"],"produces":["application/json"],"securityDefinitions":{"bearerAuth":{"type":"apiKey","name":"Authorization","in":"header","description":"JWT Bearer token. Example: Bearer {token}"}},"security":[{"bearerAuth":[]}],"tags":[{"name":"Authentication","description":"User authentication and password management endpoints"},{"name":"User Management","description":"User CRUD operations and profile management"},{"name":"Organization","description":"Organization structure and hierarchy management"},{"name":"Biometric Attendance","description":"Biometric attendance tracking and management with shift windows"},{"name":"Attendance Management","description":"Overtime requests and attendance regularization"},{"name":"Leave Management","description":"Leave applications, approvals, and balance tracking"},{"name":"Leave Summary","description":"Leave summaries and balance reports"},{"name":"Payroll","description":"Salary structures, calculations, and payslip generation"},{"name":"Shift Management","description":"Shift definitions, assignments, and scheduling"},{"name":"Master Data","description":"List of values and master data management"}],"externalDocs":{"description":"Find out more about HRMS","url":"https://hrms.com/docs"}}